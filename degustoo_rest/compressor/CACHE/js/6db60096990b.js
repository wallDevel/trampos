(function(){angular.module('RestauranteAPP',[]).config(['$httpProvider','$interpolateProvider',function($httpProvider,$interpolateProvider){$interpolateProvider.startSymbol('[[');$interpolateProvider.endSymbol(']]');$httpProvider.defaults.xsrfHeaderName='X-CSRFToken';$httpProvider.defaults.xsrfCookieName='csrftoken';}]).factory('itemCardapioAJAX',function($http){var _deletarItem,_editarItem,_getItem,_listarItens,_novoItem;_novoItem=function(cardapio_id,dados){return $http({method:'POST',url:'/ajax/restaurante/cardapio/'+cardapio_id+'/item/',data:dados});};_listarItens=function(cardapio_id){return $http({method:'GET',url:'/ajax/restaurante/cardapio/'+cardapio_id+'/item/'});};_getItem=function(cardapio_id,item_id){return $http({method:'GET',url:'/ajax/restaurante/cardapio/'+cardapio_id+'/item/'+item_id+'/'});};_editarItem=function(cardapio_id,item_id,dados){return $http({method:'PUT',url:'/ajax/restaurante/cardapio/'+cardapio_id+'/item/'+item_id+'/',data:dados});};_deletarItem=function(cardapio_id,item_id){return $http({method:'DELETE',url:'/ajax/restaurante/cardapio/'+cardapio_id+'/item/'+item_id+'/'});};return{novoItem:_novoItem,editarItem:_editarItem,getItem:_getItem,listarItens:_listarItens,deletarItem:_deletarItem};}).directives('listaItemCardapio',function(){return{restrict:'E',templateUrl:'/static/restaurante/js/application/templates/lista_itemMenu.html',controller:'itemCardapioController',controllerAs:'item_cardapio_controller'};}).controller('cardapioController',function($http,$scope){this.addCardapio=function(){};this.listarCardapios=function(){};this.getCardapio=function(){};this.editarCardapio=function(){};this.deletarCardapio=function(){};}).controller('itemCardapioController',function($http,$scope,itemCardapioAJAX){var reload;reload=function(cardapio_id){itemCardapioAJAX.listarItens(card_id).success(function(data){$scope.itens=data;$scope.novoItem.nome="";$scope.novoItem.preco="";});};this.novoItemCardapio=function(cardapio_id){itemCardapioAJAX.novoItem(cardapio_id).success(function(data){reload(cardapio_id);}).error(function(data){console.log(data);});};this.listarItensCardapio=function(cardapio_id){itemCardapioAJAX.listarItens(cardapio_id).success(function(data){reload(cardapio_id);}).error(function(data){console.log(data);});};this.getItemCardapio=function(cardapio_id,item_id){return itemCardapioAJAX.getItem(cardapio_id,item_id).success(function(data){}).error(function(data){});};this.editarItemCardapio=function(cardapio_id,item_id,dados){return itemCardapioAJAX.editarItem(cardapio_id,item_id,dados).success(function(data){}).error(function(data){});};this.deletarItemCardapio=function(cardapio_id,item_id){itemCardapioAJAX.deletarItem(cardapio_id,item_id).success(function(data){reload(cardapio_id);}).error(function(data){console.log(data);});};});}).call(this);